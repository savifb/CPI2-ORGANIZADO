<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="./style.css">
    <title>Exemplo  - EXEMPLO OPERAÇÃO MATEMÁTICA </title>
</head>
<body>
    <section id="principal">
        <form name="cal">
            <h2>Soma ou Multiplica</h2>
            Valor 1:<input type="text" name="v1" value="" pattern="^[0-9]\d*(\.\d+)?$" required>
            Valor 2:<input type="text" name="v2" value="" pattern="^[0-9]\d*(\.\d+)?$" required>
            Valor 3:<input type="text" name="v3" value="" pattern="^[0-9]\d*(\.\d+)?$">
            <hr>
            <input type="button" name="soma" value="Soma">
            <input type="button" name="multiplica" value="Multiplica">
            <hr>
            Resultado: <span id="resultado"></span>
            <span class="erro" id="erro"></span>
        </form>
    </section>

    <script type="text/javascript">
        const camposTexto = document.querySelectorAll("[type=text]");
        const spanErro = document.getElementById("erro");
        const botoesOperacao = document.querySelectorAll("[type=button]");
        const campoResultado = document.getElementById("resultado");

        botoesOperacao.forEach((botao) => {
            botao.addEventListener("click", () => {
                let soma = 0, multiplicacao = 1, valor;
                let camposPreenchidos = 0;
                camposTexto.forEach((campo) => {
                    if(campo.value){
                        camposPreenchidos++;
                        valor = Number(campo.value);
                        if(botao.name == "soma"){
                            soma += valor;
                        }
                        else if(botao.name == "multiplica"){
                            multiplicacao *= valor;
                        }
                    }
                });
                if(camposPreenchidos < 2){
                    spanErro.innerHTML = "Ao menos dois números devem ser preenchidos para realizar a operação.";
                } else {
                    spanErro.innerHTML = "";
                    if(botao.name == "soma"){
                        campoResultado.innerHTML = soma;
                    }
                    else if(botao.name == "multiplica"){
                        campoResultado.innerHTML = multiplicacao;
                    }
                }
            });
        });
    </script>
</body>
</html>